<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Perfil del Jugador</title>
  {% load static %}
    <link rel="icon" type="image/x-icon" href="{% static 'memory_game/icono.ico' %}">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="bg-dark text-light">
  <div class="container py-5">
    <h2 class="text-center mb-4">🏆 Perfil de {{ user.username }}</h2>

    <div class="card bg-secondary text-light p-3 mb-4">
      <h5>Total de partidas: {{ total_partidas }}</h5>
      <h5>Victorias: {{ total_victorias }}</h5>
      <h5>Derrotas: {{ total_derrotas }}</h5>
      <h5>Tiempo promedio: {{ promedio_tiempo }} s</h5>
      <h5>Nivel más jugado: {{ nivel_mas_jugado|title }}</h5>
    </div>

    <h4>📜 Historial de partidas</h4>
    <table class="table table-dark table-striped mt-3">
      <thead>
        <tr>
          <th>Fecha</th>
          <th>Nivel</th>
          <th>Resultado</th>
          <th>Tiempo restante</th>
        </tr>
      </thead>
      <tbody>
        {% for p in partidas %}
        <tr>
          <td>{{ p.fecha|date:"d/m/Y H:i" }}</td>
          <td>{{ p.nivel|title }}</td>
          <td>{{ p.resultado|title }}</td>
          <td>{{ p.tiempo_restante }} s</td>
        </tr>
        {% empty %}
        <tr><td colspan="4" class="text-center">No hay partidas registradas aún.</td></tr>
        {% endfor %}
      </tbody>
    </table>

    <div class="text-center mt-4">
      <a href="{% url 'index' %}" class="btn btn-primary">Volver al Inicio</a>
    </div>
  </div>
</body>
</html>
